<div class="alert alert-primary" style="background-color: #1a3742;" role="alert">
    <h3 style="text-align: center; font: oblique bold 120% cursive; color:#FFFFFF; font-size:30px;">
        <div class="search_input" id="search_input_box">
            <div class="container">
                <!-- <form class="d-flex justify-content-between search-inner">
                <input type="text" class="form-control" id="search_input" name="filterPost"
                    placeholder="Buscar producto" [(ngModel)]="filterPost" />
               

            </form> -->
                <input type="text" class="form-control" id="search_input" value="{{buscar}}"
                    (keyup)="getBusqueda($event.target.value)" placeholder="Buscar producto" />
            </div>
        </div>

    </h3>
</div>


<!-- (click)="buscarProduc(producto.name   ) -->
<!-- breadcrumb start-->

<!--================Category Product Area =================-->
<section class="cat_product_area border_top">
    <div class="container">
        <div class="row">

            <div class="col-lg-3">
                <div class="left_sidebar_area">
                    <aside class="left_widgets p_filter_widgets sidebar_box_shadow">
                        <div class="l_w_title">
                            <h3>Categorias</h3>
                        </div>
                        <div class="widgets_inner ">
                            <ul class="list" id="util" *ngFor="let categoria of categoria">
                                <ng-container [ngSwitch]="categoria.idCategoria">
                                    <ng-container *ngSwitchCase="'1'">
                                        <li class="sub-menu"> <i class="fas fa-carrot"></i>
                                            <a class="pointer select" [ngClass]="prodElegido==1 ? 'select2' : 'h'"
                                                (click)="selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria); showSubCategoria(1); showIcon(1);">
                                                {{categoria.name}}</a> <a class="pointer" *ngIf="prodElegido == 1"
                                                (click)="limpiarProdElegido()"><i class="far fa-times-circle"></i></a>
                                            <!--ICONO MAS-->
                                            <a [ngClass]="icon1 ? 'd-none' : 'd-block'"
                                                (click)="selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria); showSubCategoria(1); showIcon(1);"
                                                style="float: right;">
                                                <div class="right ti-plus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>
                                            <!--ICONO MENOS-->
                                            <a [ngClass]="icon1 ? 'd-block' : 'd-none'"
                                                (click)="showIcon(1); showSubCategoria(1);" style="float: right;">
                                                <div class="right ti-minus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>
                                            <ul *ngIf="showproduct1 == true">
                                                <ng-container *ngFor="let sub of subcategorias">
                                                    <li>
                                                        <a class="select pointer"
                                                            [ngClass]="idSubElegido==sub.idSubcategoria ? 'select2' : 'h'"
                                                            (click)="getProductxCateSub(categoria.idCategoria,sub.idSubcategoria)">{{sub.subcategoria}}</a>
                                                        <a class="pointer" (click)="limpiarSubCategoria()"
                                                            *ngIf="idSubElegido == sub.idSubcategoria"><i
                                                                class="far fa-times-circle"></i></a>
                                                    </li>

                                                </ng-container>
                                            </ul>
                                        </li>

                                    </ng-container>
                                    <ng-container *ngSwitchCase="'2'">
                                        <li class="sub-menu"> <i class="fas fa-apple-alt"></i>
                                            <a class="pointer select" [ngClass]="prodElegido==2 ? 'select2' : 'h'"
                                                (click)="selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria);  showIcon(2); showSubCategoria(2); ">
                                                {{categoria.name}}</a><a class="pointer" (click)="limpiarProdElegido()"
                                                *ngIf="prodElegido == 2"><i class="far fa-times-circle"></i></a>
                                            <!--ICONO MAS-->
                                            <a [ngClass]="icon2 ? 'd-none' : 'd-block'"
                                                (click)="selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria); showSubCategoria(2); showIcon(2);"
                                                style="float: right;">
                                                <div class="right ti-plus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>
                                            <!--ICONO MENOS-->
                                            <a [ngClass]="icon2 ? 'd-block' : 'd-none'"
                                                (click)="showIcon(2); showSubCategoria(2);" style="float: right;">
                                                <div class="right ti-minus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>
                                            <ul *ngIf="showproduct2 == true">
                                                <ng-container *ngFor="let sub of subcategorias">
                                                    <li>
                                                        <a class="select pointer"
                                                            [ngClass]="idSubElegido==sub.idSubcategoria ? 'select2' : 'h'"
                                                            (click)="getProductxCateSub(categoria.idCategoria,sub.idSubcategoria)">{{sub.subcategoria}}</a>
                                                        <a class="pointer" (click)="limpiarSubCategoria()"
                                                            *ngIf="idSubElegido == sub.idSubcategoria"><i
                                                                class="far fa-times-circle"></i></a>
                                                    </li>

                                                </ng-container>
                                            </ul>
                                        </li>
                                    </ng-container>
                                    <ng-container *ngSwitchCase="'3'">
                                        <li class="sub-menu"> <i class="fas fa-drumstick-bite"></i>
                                            <a class="pointer select" [ngClass]="prodElegido==3 ? 'select2' : 'h'"
                                                (click)="selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria); showIcon(3); showSubCategoria(3);">
                                                {{categoria.name}}</a><a class="pointer" (click)="limpiarProdElegido()"
                                                *ngIf="prodElegido == 3"><i class="far fa-times-circle"></i></a>
                                            <a [ngClass]="icon3 ? 'd-none' : 'd-block'"
                                                (click)="selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria); showSubCategoria(3); showIcon(3);"
                                                style="float: right;">
                                                <div class="right ti-plus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>
                                            <a [ngClass]="icon3 ? 'd-block' : 'd-none'"
                                                (click)="showIcon(3); showSubCategoria(3);" style="float: right;">
                                                <div class="right ti-minus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>
                                            <ul *ngIf="showproduct3 == true">
                                                <ng-container *ngFor="let sub of subcategorias">
                                                    <li>
                                                        <a class="select pointer"
                                                            [ngClass]="idSubElegido==sub.idSubcategoria ? 'select2' : 'h'"
                                                            (click)="getProductxCateSub(categoria.idCategoria,sub.idSubcategoria)">{{sub.subcategoria}}</a>
                                                        <a class="pointer" (click)="limpiarSubCategoria()"
                                                            *ngIf="idSubElegido == sub.idSubcategoria"><i
                                                                class="far fa-times-circle"></i></a>
                                                    </li>

                                                </ng-container>
                                            </ul>
                                        </li>
                                    </ng-container>
                                    <ng-container *ngSwitchCase="'4'">
                                        <li class="sub-menu"> <i class="fas fa-home"></i>
                                            <a class="pointer select" [ngClass]="prodElegido==4 ? 'select2' : 'h'"
                                                (click)="selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria); showIcon(4); showSubCategoria(4);">
                                                {{categoria.name}}</a><a class="pointer" (click)="limpiarProdElegido()"
                                                *ngIf="prodElegido == 4"><i class="far fa-times-circle"></i></a>
                                            <a [ngClass]="icon4 ? 'd-none' : 'd-block'"
                                                (click)="selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria); showSubCategoria(4); showIcon(4);"
                                                style="float: right;">
                                                <div class="right ti-plus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>
                                            <a [ngClass]="icon4 ? 'd-block' : 'd-none'"
                                                (click)="showIcon(4); showSubCategoria(4);" style="float: right;">
                                                <div class="right ti-minus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>
                                            <ul *ngIf="showproduct4 == true">
                                                <ng-container *ngFor="let sub of subcategorias">
                                                    <li>
                                                        <a class="select pointer"
                                                            [ngClass]="idSubElegido==sub.idSubcategoria ? 'select2' : 'h'"
                                                            (click)="getProductxCateSub(categoria.idCategoria,sub.idSubcategoria)">{{sub.subcategoria}}</a>
                                                        <a class="pointer" (click)="limpiarSubCategoria()"
                                                            *ngIf="idSubElegido == sub.idSubcategoria"><i
                                                                class="far fa-times-circle"></i></a>
                                                    </li>

                                                </ng-container>
                                            </ul>
                                        </li>
                                    </ng-container>

                                    <ng-container *ngSwitchCase="'5'">
                                        <li class="sub-menu"> <i class="fas fa-cookie"></i>
                                            <a class="pointer select" [ngClass]="prodElegido==5 ? 'select2' : 'h'"
                                                (click)="selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria); showIcon(5); showSubCategoria(5);">
                                                {{categoria.name}}</a><a class="pointer" (click)="limpiarProdElegido()"
                                                *ngIf="prodElegido == 5"><i class="far fa-times-circle"></i></a>
                                            <a [ngClass]="icon5 ? 'd-none' : 'd-block'"
                                                (click)=" selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria); showIcon(5); showSubCategoria(5);"
                                                style="float: right;">
                                                <div class="right ti-plus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>
                                            <a [ngClass]="icon5 ? 'd-block' : 'd-none'"
                                                (click)="showIcon(5); showSubCategoria(5);" style="float: right;">
                                                <div class="right ti-minus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>

                                            <ul *ngIf="showproduct5 == true">
                                                <ng-container *ngFor="let sub of subcategorias">
                                                    <li>
                                                        <a class="select pointer"
                                                            [ngClass]="idSubElegido==sub.idSubcategoria ? 'select2' : 'h'"
                                                            (click)="getProductxCateSub(categoria.idCategoria,sub.idSubcategoria)">{{sub.subcategoria}}</a>
                                                        <a class="pointer" (click)="limpiarSubCategoria()"
                                                            *ngIf="idSubElegido == sub.idSubcategoria"><i
                                                                class="far fa-times-circle"></i></a>
                                                    </li>

                                                </ng-container>
                                            </ul>
                                        </li>
                                    </ng-container>
                                    <ng-container *ngSwitchCase="'6'">
                                        <li class="sub-menu"> <i class="fas fa-cheese"></i>
                                            <a class="pointer select" [ngClass]="prodElegido==6 ? 'select2' : 'h'"
                                                (click)="selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria); showIcon(6); showSubCategoria(6);">
                                                {{categoria.name}}</a><a class="pointer" (click)="limpiarProdElegido()"
                                                *ngIf="prodElegido == 6"><i class="far fa-times-circle"></i></a>
                                            <a [ngClass]="icon6 ? 'd-none' : 'd-block'"
                                                (click)="selectCat(categoria.idCategoria); filtroMarca(categoria.idCategoria); showIcon(6); showSubCategoria(6);"
                                                style="float: right;">
                                                <div class="right ti-plus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>
                                            <a [ngClass]="icon6 ? 'd-block' : 'd-none'"
                                                (click)="showIcon(6); showSubCategoria(6);" style="float: right;">
                                                <div class="right ti-minus"
                                                    style="display: inline-block; cursor: pointer; margin-top: 7px;">
                                                </div>
                                            </a>
                                            <ul *ngIf="showproduct6 == true">
                                                <ng-container *ngFor="let sub of subcategorias">
                                                    <li>
                                                        <a class="select pointer"
                                                            [ngClass]="idSubElegido==sub.idSubcategoria ? 'select2' : 'h'"
                                                            (click)="getProductxCateSub(categoria.idCategoria,sub.idSubcategoria);">{{sub.subcategoria}}</a>
                                                        <a class="pointer" (click)="limpiarSubCategoria()"
                                                            *ngIf="idSubElegido == sub.idSubcategoria"><i
                                                                class="far fa-times-circle"></i></a>
                                                    </li>

                                                </ng-container>
                                            </ul>
                                        </li>
                                    </ng-container>



                                </ng-container>
                            </ul>
                        </div>
                    </aside>

                    <aside class="left_widgets p_filter_widgets sidebar_box_shadow" *ngIf="prodElegido != 0">
                        <div class="l_w_title">
                            <h3>Marcas por {{tituloMarca}}</h3>
                        </div>
                        <div class="widgets_inner">
                            <ul class="list">
                                <li>
                                    <input type="radio" name="marca" (click)="selectCat(this.prodElegido)"
                                        [checked]="marcaElegida == false">

                                    <a>Todos</a>
                                </li>
                                <ng-container *ngFor="let m of marcas">
                                    <li>
                                        <input type="radio" name="marca" (click)="getProductsxMarca(m.marca)">
                                        <a>{{m.marca}}</a>
                                    </li>
                                </ng-container>
                            </ul>

                        </div>
                    </aside>
                </div>

            </div>



            <div class="col-lg-9">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="product_top_bar d-flex justify-content-between align-items-center">
                            <div class="single_product_menu product_bar_item">
                                <h2>Productos</h2>
                            </div>
                            <div class="product_top_bar_iner product_bar_item d-flex">
                                <div class="product_bar_single">
                                    <select class="wide" (change)=onclickFilter($event.target.value)
                                        [(ngModel)]="order">
                                        <option value="0">Selecciona un filtro</option>
                                        <option value="1">Ordenar por nombre</option>
                                        <option value="2">Ordenar por mayor precio</option>
                                        <option value="3">Ordenar por menor precio</option>
                                    </select>
                                </div>

                            </div>

                            <!--                             <div class="dropdown">
                                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Filtros
                                </button>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item">A - Z </a>
                                    <a class="dropdown-item">Mayor
                                        Precio</a>
                                    <a class="dropdown-item">Menor Precio</a>
                                    <a class="dropdown-item">Menor Stock</a>
                                    <a class="dropdown-item">Menor Stock</a>
                                </div>
                            </div> -->


                        </div>
                    </div>
                    <!--filter:filterPost |-->
                    <div class="col-lg-4 col-sm-6"
                        *ngFor="let producto of products | orderBy: order: reverse |  paginate: { itemsPerPage: 9, currentPage: paginaActual }">
                        <div class=" single_category_product">
                            <div class="single_category_img img-thumbnail">
                                <a [routerLink]="['/detallesproducto',producto.idProducto]">
                                    <img src="{{producto.image}}" alt="" height="200px">
                                </a>
                                <!-- <div class="category_social_icon">
                                    <ul>
                                        <li><a [routerLink]="['/detallesproducto',producto.idProducto]"><i
                                                    class="fas fa-info"></i></a></li>
                                        <li><a (click)="localsito(producto)"><i class="ti-bag"></i></a></li>

                                    </ul>
                                </div> -->
                                <div class="category_product_text">

                                    <p>{{producto.producto}} x {{producto.unidades}}</p>


                                    <p>S/ {{(producto.precio).toFixed(2)}} </p>

                                    <button class="btn" (click)="localsito(producto)" type="submit">Agregar
                                        Carrito</button>
                                    <p></p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <pagination-controls (pageChange)="paginaActual = $event"></pagination-controls>
            </div>

        </div>
    </div>
</section>

<style>
    .pointer {
        cursor: pointer;
    }
</style>
<!--================End Category Product Area =================-->